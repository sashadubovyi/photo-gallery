{"version":3,"file":"static/js/840.c891c98d.chunk.js","mappings":"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","sources":["components/AllPhotoPage/AllPhotoPage.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport s from './AllPhotoPage.module.scss';\nimport { NavLink } from 'react-router-dom';\nimport { IoArrowBackSharp } from 'react-icons/io5';\nimport { listAll, getDownloadURL, ref } from 'firebase/storage';\nimport { storage } from '../../firebaseConfig';\nimport { IoIosCloseCircleOutline } from 'react-icons/io';\nimport RenderPhoto from 'components/RenderPhoto/RenderPhoto';\n\nexport class AllPhotoPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      photoURLs: [],\n    };\n  }\n\n  async componentDidMount() {\n    const folderNames = [\n      'solo',\n      'weddings',\n      'family',\n      'kids',\n      'bussines',\n      'pregnant',\n    ];\n\n    const photoURLs = await Promise.all(\n      folderNames.map(async folder => {\n        const folderRef = ref(storage, `images/${folder}`);\n        const imagesList = await listAll(folderRef);\n\n        return Promise.all(\n          imagesList.items.map(async imageRef => {\n            return getDownloadURL(imageRef);\n          })\n        );\n      })\n    );\n\n    const flattenedURLs = photoURLs.flat();\n\n    this.setState({ photoURLs: flattenedURLs });\n  }\n\n  openModal = index => {\n    this.setState({\n      modalOpen: true,\n      selectedPhotoIndex: index,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      modalOpen: false,\n      selectedPhotoIndex: null,\n    });\n  };\n\n  render() {\n    const { photoURLs, modalOpen, selectedPhotoIndex } = this.state;\n\n    return (\n      <>\n        <div className={s.wrapper}>\n          <div className={s.mainBtn}>\n            <NavLink className={s.backBtn} to=\"/\">\n              <IoArrowBackSharp />\n            </NavLink>\n          </div>\n        </div>\n\n        <RenderPhoto photoURLs={photoURLs} openModal={this.openModal} />\n\n        {modalOpen && (\n          <div className={s.modal}>\n            <div className={s.modalContent} onClick={this.closeModal}>\n              {selectedPhotoIndex !== null && (\n                <img\n                  className={s.modalImage}\n                  src={photoURLs[selectedPhotoIndex]}\n                  alt={`desc-${selectedPhotoIndex}`}\n                  onClick={e => e.stopPropagation()}\n                />\n              )}\n              <IoIosCloseCircleOutline className={s.closeBtn} />\n            </div>\n          </div>\n        )}\n      </>\n    );\n  }\n}\n\nexport default AllPhotoPage;\n"],"names":["AllPhotoPage","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","openModal","index","setState","modalOpen","selectedPhotoIndex","closeModal","state","photoURLs","_createClass","key","value","_componentDidMount","_asyncToGenerator","_regeneratorRuntime","_callee3","folderNames","flattenedURLs","_context3","prev","next","Promise","all","map","_ref","_callee2","folder","folderRef","imagesList","_context2","ref","storage","concat","listAll","sent","abrupt","items","_ref2","_callee","imageRef","_context","getDownloadURL","stop","_x2","apply","arguments","_x","flat","this","_this$state","_jsxs","_Fragment","children","_jsx","className","s","NavLink","to","IoArrowBackSharp","RenderPhoto","onClick","src","alt","e","stopPropagation","IoIosCloseCircleOutline","Component"],"sourceRoot":""}