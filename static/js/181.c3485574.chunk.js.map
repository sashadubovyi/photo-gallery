{"version":3,"file":"static/js/181.c3485574.chunk.js","mappings":"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","sources":["components/AdminPanel/AdminPanel.jsx","components/AdminPanel/EntenAdminPage.jsx","webpack://photo-gallery/./src/components/AdminPanel/AdminPanel.module.scss?9baa"],"sourcesContent":["import React, { Component } from 'react';\nimport s from './AdminPanel.module.scss';\nimport {\n  getStorage,\n  ref,\n  uploadBytesResumable,\n  getDownloadURL,\n} from 'firebase/storage';\nimport { initializeApp } from 'firebase/app';\nimport { auth } from '../../firebaseConfig';\nimport { PiPersonSimpleRunFill } from 'react-icons/pi';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyBV36jpX-P4riejmVYQlexhyen4DEijUyU',\n  authDomain: 'photo-gallery-478c0.firebaseapp.com',\n  projectId: 'photo-gallery-478c0',\n  storageBucket: 'photo-gallery-478c0.appspot.com',\n  messagingSenderId: '948924880062',\n  appId: '1:948924880062:web:1458bd90eacf61bedefaef',\n};\n\nconst app = initializeApp(firebaseConfig);\nconst storage = getStorage(app);\n\nconst folderOptions = [\n  'solo',\n  'wedings',\n  'family',\n  'kids',\n  'bussines',\n  'pregnant',\n];\n\nexport class AdminPanel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedFiles: [],\n      uploadProgress: 0,\n      uploadedImageUrls: [],\n      selectedFolder: folderOptions[0],\n    };\n  }\n\n  getFiles(event) {\n    const selectedFiles = event.target.files;\n    this.setState({ selectedFiles });\n\n    if (selectedFiles.length > 0) {\n      const reader = new FileReader();\n\n      reader.onload = e => {\n        const uploadedImageUrls = Array.from(selectedFiles).map(file =>\n          URL.createObjectURL(file)\n        );\n\n        this.setState({ uploadedImageUrls });\n      };\n\n      reader.readAsDataURL(selectedFiles[0]);\n    }\n  }\n\n  handleFolderChange(event) {\n    this.setState({ selectedFolder: event.target.value });\n  }\n\n  async uploadImages() {\n    const { selectedFiles, selectedFolder } = this.state;\n\n    if (selectedFiles.length === 0) {\n      console.error('Файли не вибрані!');\n      return;\n    }\n\n    const uploadPromises = Array.from(selectedFiles).map(file => {\n      const storageRef = ref(storage, `images/${selectedFolder}/${file.name}`);\n      const uploadTask = uploadBytesResumable(storageRef, file);\n\n      return new Promise((resolve, reject) => {\n        uploadTask.on(\n          'state_changed',\n          snapshot => {\n            const progress = Math.round(\n              (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n            );\n            this.setState({ uploadProgress: progress });\n          },\n          error => {\n            console.error('Помилка завантаження файлу:', error);\n            reject(error);\n          },\n          () => {\n            getDownloadURL(uploadTask.snapshot.ref)\n              .then(downloadURL => {\n                console.log('Файл доступний за адресою', downloadURL);\n                resolve(downloadURL);\n              })\n              .catch(error => reject(error));\n          }\n        );\n      });\n    });\n\n    try {\n      const uploadedImageUrls = await Promise.all(uploadPromises);\n      this.setState({\n        uploadedImageUrls,\n        uploadProgress: 0,\n        selectedFiles: [],\n      });\n    } catch (error) {\n      console.error('Помилка завантаження файлів:', error);\n    }\n  }\n\n  handleLogout = async () => {\n    try {\n      await auth.signOut();\n    } catch (error) {\n      console.error('Помилка виходу:', error);\n    }\n  };\n\n  render() {\n    const { uploadProgress, uploadedImageUrls, selectedFolder } = this.state;\n\n    return (\n      <>\n        <button className={s.logoutButton} onClick={this.handleLogout}>\n          <PiPersonSimpleRunFill />\n        </button>\n\n        <div className={s.uploadContainer}>\n          <div className={s.folderSelect}></div>\n          <input\n            type=\"file\"\n            className={s.inputFile}\n            id=\"fileInp\"\n            onChange={event => this.getFiles(event)}\n            accept=\"image/png, image/jpeg, image/jpg\"\n            ref={this.fileInputRef}\n            multiple\n          />\n          <label htmlFor=\"fileInp\">\n            {uploadedImageUrls.length === 0 ? (\n              <p>+</p>\n            ) : (\n              uploadedImageUrls.map((url, index) => (\n                <div key={index} className={s.imageContainer}>\n                  <img\n                    className={s.imageSmall}\n                    src={url}\n                    alt={`Обране фото ${index + 1}`}\n                  />\n                  <button\n                    className={s.deleteButton}\n                    onClick={() => {\n                      const newImages = [...uploadedImageUrls];\n                      newImages.splice(index, 1);\n                      this.setState({ uploadedImageUrls: newImages });\n                    }}\n                  >\n                    x\n                  </button>\n                </div>\n              ))\n            )}\n          </label>\n\n          <span className={s.fileText}></span>\n\n          <select\n            value={selectedFolder}\n            onChange={e => this.handleFolderChange(e)}\n          >\n            {folderOptions.map(folder => (\n              <option key={folder} value={folder}>\n                {folder}\n              </option>\n            ))}\n          </select>\n\n          <button\n            className={s.uploadPhotoBtn}\n            onClick={() => this.uploadImages()}\n          >\n            ЗАВАНТАЖИТИ ФОТО\n          </button>\n          <div className={s.bar}>\n            <div\n              className={s.progress}\n              style={{ width: `${uploadProgress}%` }}\n            ></div>\n          </div>\n          <div className={s.uploadPercentage}>{uploadProgress}%</div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default AdminPanel;\n","import React, { useState, useEffect } from 'react';\n// import { useNavigate } from 'react-router-dom';\nimport { onAuthStateChanged, signInWithEmailAndPassword } from 'firebase/auth';\nimport AdminPanel from './AdminPanel';\nimport BackBtn from 'components/BackBtn/BackBtn';\nimport s from './AdminPanel.module.scss';\nimport { auth } from '../../firebaseConfig';\n\nconst EnterAdminPage = () => {\n  const [email, setEmail] = useState('');\n  const [pass, setPass] = useState('');\n  const [user, setUser] = useState(null);\n  // const navigate = useNavigate();\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      setUser(user);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const signIn = e => {\n    e.preventDefault();\n    signInWithEmailAndPassword(auth, email, pass)\n      .then(() => {})\n      .catch(error => {\n        alert('Невірний пароль або електронна пошта');\n      });\n  };\n\n  if (user) {\n    return <AdminPanel />;\n  }\n\n  return (\n    <>\n      <div className={s.eContainer}>\n        <BackBtn />\n        <form className={s.eForm} onSubmit={signIn}>\n          <h1>Увійти</h1>\n          <input\n            type=\"email\"\n            placeholder=\"Електронна пошта\"\n            value={email}\n            onChange={e => setEmail(e.target.value)}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Пароль\"\n            value={pass}\n            onChange={e => setPass(e.target.value)}\n          />\n          <button type=\"submit\">УВІЙТИ</button>\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default EnterAdminPage;\n","// extracted by mini-css-extract-plugin\nexport default {\"uploadContainer\":\"AdminPanel_uploadContainer__ZuZh9\",\"inputFile\":\"AdminPanel_inputFile__RkNmq\",\"uploadPhotoBtn\":\"AdminPanel_uploadPhotoBtn__yoLY3\",\"imageContainer\":\"AdminPanel_imageContainer__r5CBl\",\"deleteButton\":\"AdminPanel_deleteButton__fQCqY\",\"chooseFolder\":\"AdminPanel_chooseFolder__gE4yU\",\"bar\":\"AdminPanel_bar__Dwzrz\",\"progress\":\"AdminPanel_progress__PSJ3e\",\"uploadPercentage\":\"AdminPanel_uploadPercentage__tyr5H\",\"imageSmall\":\"AdminPanel_imageSmall__1MYou\",\"eContainer\":\"AdminPanel_eContainer__XfzNE\",\"eForm\":\"AdminPanel_eForm__jMVAX\",\"logoutButton\":\"AdminPanel_logoutButton__dCJH1\"};"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","storage","getStorage","folderOptions","AdminPanel","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleLogout","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","auth","t0","console","error","stop","state","selectedFiles","uploadProgress","uploadedImageUrls","selectedFolder","_createClass","key","value","event","_this2","target","files","this","setState","length","reader","FileReader","onload","e","Array","from","map","file","URL","createObjectURL","readAsDataURL","_uploadImages","_callee2","_this$state","uploadPromises","_this3","_context2","abrupt","storageRef","ref","concat","name","uploadTask","uploadBytesResumable","Promise","resolve","reject","on","snapshot","progress","Math","round","bytesTransferred","totalBytes","getDownloadURL","then","downloadURL","log","catch","all","sent","apply","arguments","_this4","_this$state2","_jsxs","_Fragment","children","_jsx","className","s","onClick","PiPersonSimpleRunFill","type","id","onChange","getFiles","accept","fileInputRef","multiple","htmlFor","url","index","src","alt","newImages","_toConsumableArray","splice","handleFolderChange","folder","uploadImages","style","width","Component","_useState","useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","pass","setPass","_useState5","_useState6","user","setUser","useEffect","unsubscribe","onAuthStateChanged","BackBtn","onSubmit","preventDefault","signInWithEmailAndPassword","alert","placeholder"],"sourceRoot":""}